-1!==location.search.indexOf("page=mrkv_ua_marketplaces")&&jQuery(document).ready((function(){jQuery(".mrkvuamp_xml_link_copy").on("click",(function(){var fileContent,refFile=mrkvuamp_script_vars.rozetka_xml_path;jQuery.get(refFile,(function(response){fileContent=response,xmlString=(new XMLSerializer).serializeToString(fileContent);navigator.clipboard.writeText(xmlString),jQuery("input[name=mrkvuamp_clipboard]").val(xmlString).select();document.execCommand("copy"),Swal.fire({position:"center",icon:"success",title:"Скопійовано!",showConfirmButton:!1,timer:1e3})}))}));var marketplaces_checked_count=0,checkboxes_qty=jQuery("#mrkvuamp-dashboard-form .mrkvuamp_chekbox").length;jQuery("input[type=checkbox].mrkvuamp_chekbox:checked").each((function(){var status=this.checked?jQuery(this).val():"",checkboxBlock=jQuery(this).attr("id").slice("mrkvuamp_".length)+"_class";status&&(++marketplaces_checked_count,jQuery("."+checkboxBlock).css("display","none"))})),marketplaces_checked_count==checkboxes_qty&&(jQuery(".dashboard-subtitle").css("display","none"),jQuery("#mrkvuamp_dashboard_submit").css("display","none"))})),-1!==location.search.indexOf("page=mrkv_ua_marketplaces_rozetka")&&window.addEventListener("load",(function(){var mrkvRozetkaNavLinks=document.querySelectorAll("ul.mrkvuamp-nav-links > li");for(i=0;i<mrkvRozetkaNavLinks.length;i++)mrkvRozetkaNavLinks[i].addEventListener("click",mrkvSwitchLink);function mrkvSwitchLink(event){event.preventDefault(),document.querySelector("ul.mrkvuamp-nav-links li.active").classList.remove("active"),document.querySelector(".link-pane.active").classList.remove("active");var clickedLink=event.currentTarget,activePaneID=event.target.getAttribute("href");clickedLink.classList.add("active"),document.querySelector(activePaneID).classList.add("active")}})),-1!==location.search.indexOf("page=mrkv_ua_marketplaces_rozetka")&&jQuery(document).ready((function(){"your_vendor_choice"!=jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").val()&&"vendor_pwb_brand"!=jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").val()||(jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").hide(),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").hide()),"vendor_by_attributes"==jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").val()?(jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").hide(),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").css(" display","none"),jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").show(),jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").css(" display","block")):"vendor_all_possibilities"==jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").val()&&(jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").hide(),jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").css(" display","none"),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").show(),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").css(" display","block")),jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").on("change",(function(){"your_vendor_choice"!=jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").val()&&"vendor_pwb_brand"!=jQuery("#mrkv_uamrkpl_rozetka_custom_vendor").val()||(jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").hide(),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").hide()),"vendor_by_attributes"==jQuery(this).val()?(jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").fadeIn(500),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").fadeOut(500)):"vendor_all_possibilities"==jQuery(this).val()&&(jQuery(".mrkv_uamrkpl_rozetka_vendor_by_attributes_class").fadeOut(500),jQuery(".mrkv_uamrkpl_rozetka_vendor_all_possibilities_class").fadeIn(500))}))})),jQuery(document).ready((function(){jQuery(location).attr("protocol"),jQuery(location).attr("host");var siteTotalProductQty=mrkvuamp_script_vars.site_total_product_qty;if(-1!==location.search.indexOf("page=mrkv_ua_marketplaces_rozetka")){async function removeHiddenLink(){jQuery(location).attr("protocol"),jQuery(location).attr("host");jQuery.ajax({url:mrkvuamp_script_vars.rozetka_xml_path,headers:{"Clear-Site-Data":"cache"},type:"HEAD",cache:!1,error:function(){jQuery(".mrkvuamp_progress_bar").removeClass("hidden"),localStorage.getItem("mrkvuamp_collation_submit")||jQuery(".mrkvuamp_progress_bar").addClass("hidden")}})}jQuery("#mrkv_uamrkpl_collation_form").on("submit",(async function(event){event.preventDefault();var jsStart=Number((new Date).getTime());async function hideSpinner(){jQuery("#mrkv_uamrkpl_collation_form #mrkvuamp_submit_collation").removeClass("mrkv_uamrkpl_collation_btn_desabled"),jQuery("#mrkvuamp_loader").remove()}async function SweetAlert2Reject(err){Swal.fire({icon:"error",title:"Oops...",text:err,timer:5e3})}localStorage.setItem("mrkvuamp_collation_submit","Event"),async function(){var $form=jQuery("#mrkv_uamrkpl_collation_form"),$formData=$form.serialize();try{await async function($form,$formData){if(localStorage.getItem("mrkvuamp_collation_submit")){jQuery(".mrkvuamp_progress_bar").fadeIn(500);var progBarCoef=siteTotalProductQty<100?.9:2;!async function(time){var start=0,progressElement=document.getElementById("mrkvuamp-progress-xml-upload"),progBarHiddenMsg=document.getElementById("mrkvuamp_progbar_hidden_msg"),intervalId=setInterval((function(){var elem;time<start?(clearInterval(intervalId),(elem=progBarHiddenMsg).innerHTML="Ваш xml-прайс майже готовий. Після сповіщення перезавантажте сторінку і перейдіть за посиланням.",elem.classList.remove("blinking-message"),elem.style.display="block"):(progressElement.value=start,function(elem){var progressElementMax=document.getElementById("mrkvuamp-progress-xml-upload").getAttribute("max"),progressElementValue=document.getElementById("mrkvuamp-progress-xml-upload").value;elem.innerHTML="Не перезавантажуйте сторінку "+Number(progressElementMax-progressElementValue)+" сек.: processing...",elem.classList.add("blinking-message"),elem.style.display="block",localStorage.removeItem("mrkvuamp_collation_submit")}(progBarHiddenMsg)),start++}),1e3)}(Math.round(siteTotalProductQty*progBarCoef))}else jQuery(".mrkvuamp_progress_bar").fadeOut(0);var ajaxCollationRequest=jQuery.ajax({url:ajaxurl,headers:{"Clear-Site-Data":"cache","Content-Type":"application/x-www-form-urlencoded"},data:$formData,cache:!1,ifModified:!0});ajaxCollationRequest.done((function(response){!async function(message,jsTime,phpTime){Swal.fire({position:"center",icon:"success",title:message,html:"<p>Загальний час: "+jsTime+" сек.<br>Час PHP: "+phpTime+" сек.<br>Перезавантажте сторінку.</p>",allowOutsideClick:!0})}("XML-прайс створений!",((Number((new Date).getTime())-jsStart)/1e3).toFixed(2),response.rozetka_xml_created_event),hideSpinner(),jQuery(".mrkvuamp_progress_bar").fadeOut(500)})),ajaxCollationRequest.fail((function(jqXHR,textStatus){jQuery(".mrkvuamp_progress_bar").fadeOut(),SweetAlert2Reject("Request failed: "+textStatus),hideSpinner()}))}(0,$formData),await async function(){Swal.fire({position:"center",icon:"success",title:"XML-прайс створюється...",showConfirmButton:!1,timer:2e3,allowOutsideClick:!0})}(),await async function(){var protocol=jQuery(location).attr("protocol"),host=jQuery(location).attr("host"),loaderUrl=protocol+"//"+host+"/wp-content/plugins/ua-marketplace/assets/images/spinner.gif",image=new Image;image.src=loaderUrl,jQuery("#mrkv_uamrkpl_collation_form #mrkvuamp_submit_collation").css({"margin-right":"10px"}),jQuery("#mrkv_uamrkpl_collation_form #mrkvuamp_submit_collation").addClass("mrkv_uamrkpl_collation_btn_desabled"),jQuery("#mrkvuamp_loader").append(image)}(),await removeHiddenLink()}catch(err){await SweetAlert2Reject(err)}}()})),removeHiddenLink();siteTotalProductQty=mrkvuamp_script_vars.site_total_product_qty}})),jQuery(document).ready((function(){jQuery(location).attr("protocol"),jQuery(location).attr("host");var siteTotalProductQty=mrkvuamp_script_vars.site_total_product_qty;if(-1!==location.search.indexOf("page=mrkv_ua_marketplaces_promua")){async function removeHiddenLink(){jQuery(location).attr("protocol"),jQuery(location).attr("host");jQuery.ajax({url:mrkvuamp_script_vars.promua_xml_path,headers:{"Clear-Site-Data":"cache"},type:"HEAD",cache:!1,error:function(){jQuery(".mrkvuamp_promua_xml_link").addClass("hidden")},success:function(){jQuery(".mrkvuamp_promua_xml_link").removeClass("hidden")}})}jQuery("#mrkv_uamrkpl_promuaxml_form").on("submit",(async function(event){localStorage.setItem("mrkvuamp_submit_promuaxml","Event"),async function(){var $form=jQuery("#mrkv_uamrkpl_promuaxml_form"),$formData=$form.serialize();try{await async function($form,$formData){jQuery.ajax({url:ajaxurl,headers:{"Clear-Site-Data":"cache"},data:$formData,cache:!1,ifModified:!0})}(0,$formData),await async function(){Swal.fire({position:"center",icon:"success",title:"XML-прайс створюється...",showConfirmButton:!1,timer:5e3,allowOutsideClick:!1})}(),await async function(){var protocol=jQuery(location).attr("protocol"),host=jQuery(location).attr("host"),loaderUrl=protocol+"//"+host+"/wp-content/plugins/ua-marketplaces-pro/assets/images/spinner.gif",image=new Image;image.src=loaderUrl,jQuery("#mrkv_uamrkpl_promuaxml_form #mrkvuamp_submit_promuaxml").css({"margin-right":"10px"}),jQuery("#mrkv_uamrkpl_promuaxml_form #mrkvuamp_submit_promuaxml").addClass("mrkv_uamrkpl_collation_btn_desabled"),jQuery("#mrkvuamp_loader").append(image)}(),await removeHiddenLink()}catch(err){await async function(err){Swal.fire({icon:"error",title:"Oops...",text:err,timer:5e3})}(err)}}()})),removeHiddenLink();siteTotalProductQty=mrkvuamp_script_vars.site_total_product_qty;if(localStorage.getItem("mrkvuamp_submit_promuaxml")){jQuery("#mrkvuamp-progress-xml-upload-promua").fadeIn(500);var progBarCoef=siteTotalProductQty<100?1.2:3.7;!async function(time){localStorage.removeItem("mrkvuamp_submit_promuaxml");var start=0,progressPromuaElement=document.getElementById("mrkvuamp-progress-xml-upload-promua"),progBarHiddenMsg=document.getElementById("mrkvuamp_progbar_hidden_msg"),intervalId=setInterval((function(){var elem;time<start?(clearInterval(intervalId),(elem=progBarHiddenMsg).innerHTML="Ваш xml-прайс готовий. Перезавантажте сторінку і перейдіть за посиланням.",elem.classList.remove("blinking-message"),elem.style.display="block"):(progressPromuaElement.value=start,function(elem){var progressPromuaElementMax=document.getElementById("mrkvuamp-progress-xml-upload-promua").getAttribute("max"),progressPromuaElementValue=document.getElementById("mrkvuamp-progress-xml-upload-promua").value;elem.innerHTML="Не перезавантажуйте сторінку "+Number(progressPromuaElementMax-progressPromuaElementValue)+" сек.: processing...",elem.classList.add("blinking-message"),elem.style.display="block"}(progBarHiddenMsg)),start++}),1e3)}(Math.round(siteTotalProductQty*progBarCoef))}else jQuery("#mrkvuamp-progress-xml-upload-promua").fadeOut(0)}})),-1!==location.search.indexOf("page=mrkv_ua_marketplaces_promua")&&jQuery(document).ready((function(){"your_vendor_choice"!=jQuery("#mrkv_uamrkpl_promua_custom_vendor").val()&&"vendor_pwb_brand"!=jQuery("#mrkv_uamrkpl_promua_custom_vendor").val()||(jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").hide(),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").hide()),"vendor_by_attributes"==jQuery("#mrkv_uamrkpl_promua_custom_vendor").val()?(jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").hide(),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").css(" display","none"),jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").show(),jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").css(" display","block")):"vendor_all_possibilities"==jQuery("#mrkv_uamrkpl_promua_custom_vendor").val()&&(jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").hide(),jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").css(" display","none"),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").show(),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").css(" display","block")),jQuery("#mrkv_uamrkpl_promua_custom_vendor").on("change",(function(){"your_vendor_choice"!=jQuery("#mrkv_uamrkpl_promua_custom_vendor").val()&&"vendor_pwb_brand"!=jQuery("#mrkv_uamrkpl_promua_custom_vendor").val()||(jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").hide(),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").hide()),"vendor_by_attributes"==jQuery(this).val()?(jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").fadeIn(500),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").fadeOut(500)):"vendor_all_possibilities"==jQuery(this).val()&&(jQuery(".mrkv_uamrkpl_promua_vendor_by_attributes_class").fadeOut(500),jQuery(".mrkv_uamrkpl_promua_vendor_all_possibilities_class").fadeIn(500))}))}));